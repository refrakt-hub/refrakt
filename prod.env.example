# Production Environment Configuration for Refrakt
# Copy this file to prod.env and fill in your actual values
# For production, use Doppler or another secrets manager

# Environment
ENVIRONMENT=production

# Server Configuration
PORT=8002
HOST=0.0.0.0
DEBUG=false
LOG_LEVEL=INFO

# CORS Configuration
# Set to comma-separated list of allowed origins, e.g.:
# CORS_ORIGINS=https://refrakt.akshath.tech,https://www.refrakt.akshath.tech,vercel
# Use "vercel" keyword to include Vercel domain patterns (*.vercel.app, *.vercel.dev)
# Leave empty to disable CORS (default for API-only backends)
CORS_ORIGINS=

# Security Headers Configuration
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=false
# CSP_POLICY=default-src 'self' (optional, leave empty for API-only backends)
CSP_POLICY=

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT_PER_MINUTE=60
RATE_LIMIT_DEFAULT_BURST=100

# Graceful Shutdown Configuration
SHUTDOWN_TIMEOUT=30

# Uvicorn Production Settings
# Workers: Set to number of CPU cores (e.g., 4 for 4-core system)
# For single worker, set to 1 (uses python -m backend.main)
UVICORN_WORKERS=4
UVICORN_TIMEOUT_KEEP_ALIVE=5
UVICORN_TIMEOUT_GRACEFUL_SHUTDOWN=30
UVICORN_ACCESS_LOG=false
UVICORN_LOG_LEVEL=info

# Cloudflare Tunnel (Production)
CLOUDFLARE_TUNNEL_CONFIG=./prod.yml
CLOUDFLARE_DOMAIN=refrakt.akshath.tech

# API Keys (REPLACE WITH YOUR OWN VALUES)
GEMINI_API_KEY=__REPLACE_ME__

# Paths
JOBS_DIR=/var/refrakt/jobs
CHECKPOINTS_DIR=/var/refrakt/checkpoints
LOGS_DIR=/var/log/refrakt

# UV Configuration
UV_SYNC_PYPROJECT=1

